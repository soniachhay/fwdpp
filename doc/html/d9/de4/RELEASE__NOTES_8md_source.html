<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fwdpp: md/RELEASE_NOTES.md Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">fwdpp
   &#160;<span id="projectnumber">0.7.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">md/RELEASE_NOTES.md</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d9/de4/RELEASE__NOTES_8md.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;# FWDPP RELEASE NOTES </div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;For a list of planned features, etc., see the issues list on [GitHub](https://github.com/molpopgen/fwdpp/issues).</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;Issues that are tagged &#39;performance&#39; or &#39;enhancement&#39; reflect future plans for the library. I will probably not put</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;milestones (target version numbers for these features to go live) because that is not realistic given how I work.</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;## 0.7.1</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;Point release fixing some API and UI issues with tree sequence recording.  Several documentation updates for </div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;these functions, too.</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;* fwdpp::ts::table_collection is now equality-comparable. [PR 153](https://github.com/molpopgen/fwdpp/pull/153)</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;* Stricter checking of sample list validity during simplification and tree traversal. [PR 159](https://github.com/molpopgen/fwdpp/pull/159)</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;* fwdpp::ts::marginal_tree now tracks number of samples.  fwdpp::ts::generate_data_matrix no longer adds fixed variants</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  to the output. [PR 160](https://github.com/molpopgen/fwdpp/pull/160)</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;* fwdpp::ts::flag_mutations_for_recycling has been refactored to allow for preserving selected fixations and limited</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;  fixation recording. [PR 162](https://github.com/molpopgen/fwdpp/pull/162)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;## 0.7.0</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;This is a major release, introducing namespace fwdpp::ts with support for tree sequence recording during simulations.</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;I owe Jerome Kelleher a big thanks for guiding me through some of the details related to several of the finer points of</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;the simplification algorithm as well as the tree traversal schemes from his 2016 paper describing msprime.</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;* Support for tree sequences added [PR 151](https://github.com/molpopgen/fwdpp/pull/151) [PR 152](https://github.com/molpopgen/fwdpp/pull/152)</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;* fwdpp::data_matrix is moved into the main library. [PR 118](https://github.com/molpopgen/fwdpp/pull/118)</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;* fwdpp::data_matrix is refactored so that the contiguous dimension corresponds to variable sites.[PR 142](https://github.com/molpopgen/fwdpp/pull/142)</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;* Fitness models do a better job of validating input parameters.[PR 140](https://github.com/molpopgen/fwdpp/pull/140)</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;* Types in fwdpp::extensions now make their weight vectors viewable. [PR 141](https://github.com/molpopgen/fwdpp/pull/141)</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;* Various pull with some example programs were fixed [PR 149](https://github.com/molpopgen/fwdpp/pull/149)</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;* A debug namespace was added to the library. [PR 150](https://github.com/molpopgen/fwdpp/pull/148)</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;## 0.6.1</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;Maintenance release fixing the following two bugs:</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;* A bug that resulted in the failure to transmit a mutation if it was on parental gamete 2 AND its position equalled the</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  left edge of a recombinant interval has been fixed.  The bug was [issue</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  134](https://github.com/molpopgen/fwdpp/issues/134) and it was fixed via [PR</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  135](https://github.com/molpopgen/fwdpp/pull/135).</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;* A [bug](https://github.com/molpopgen/fwdpp/issues/130) in `fwdpp::update_mutations` was fixed via [PR</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  132](https://github.com/molpopgen/fwdpp/pull/132).</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;The following features were added:</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;* fwdpp::compact_mutations was added, which reorganizes data structures for better memory access, thus improving</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;  performance.  When used appropriately, significant run time improvements are possible.</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;The following API issues were addressed:</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;* The initialization of gamete counts in fwdpp::popbase is now independent of ploidy. [PR 136](https://github.com/molpopgen/fwdpp/pull/136).</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;## 0.6.0</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;This is a major release, breaking API compatibility in many areas.  These changes were necessary to make the library</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;even more flexible, but also to undo several poor design choices that we&#39;ve been living with for far too long.  This</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;release can be seen as a big push towards a 1.0 release.  </div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;The result of these changes is a much smaller library that is safer and can do more.</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;The following bug fixes are included in this release.  None affected</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;[fwdpy11&#39;s](http://fwdpy11.readthedocs.io/en/latest/) official releases, either because that</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;package uses custom replacements of fwdpp functions and/or they were caught before a release was made or are in features</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;so new that no one has affected by them:</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;* A bug in which selected fixations were not recorded by fwdpp::update_mutations_n was fixed.</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  [PR119](https://github.com/molpopgen/fwdpp/pull/119)</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;* A bug in repeatedly recording fixation data with removeFixed == false has been fixed. </div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  [PR71](https://github.com/molpopgen/fwdpp/pull/71)</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;* API bugs in multilocus sampling routines have been fixed. </div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  [PR70](https://github.com/molpopgen/fwdpp/pull/70)</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;* The &quot;perfect-forwarding&quot; constructor of fwdpp::popbase now is indeed perfectly-forwarding.[PR65](https://github.com/molpopgen/fwdpp/pull/65).</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  This fixes a bug introduced in [PR56](https://github.com/molpopgen/fwdpp/pull/56).</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;In fwdpp 0.5.7, [PR56](https://github.com/molpopgen/fwdpp/pull/56) had a few issues resolved in this release:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;* Do not require mutation keys to be sorted by position in extinct gametes. [PR66](https://github.com/molpopgen/fwdpp/pull/66)  </div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;* Fixed an error in a &quot;perfect forwarding&quot; constructor introduced in 0.5.7. [PR65](https://github.com/molpopgen/fwdpp/pull/65) </div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;* When creating populations based on user data, 0.5.7 failed to enforce</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;  proper sorting of mutation keys in gametes.  This issue was fixed via [PR64](https://github.com/molpopgen/fwdpp/pull/64).</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    </div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;The following changes have been made to the library itself:</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;* @ref custom_mutation.cc, @ref custom_diploid.cc and @ref juvenile_migration.cc were added to examples. [PR124](https://github.com/molpopgen/fwdpp/pull/124).</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;* All use of std::bind is replaced with lambdas. [PR126](https://github.com/molpopgen/fwdpp/pull/126).</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;* Some mutation types were removed from fwdpp/sugar. [PR125](https://github.com/molpopgen/fwdpp/pull/125).</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;* The back end for specifying final values from fwdpp::additive_diploid and fwdpp::multiplicative_diploid have been</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  streamlined. [PR121](https://github.com/molpopgen/fwdpp/pull/121), which changes behavior introduced in fwdpp 0.5.6</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  in response to [Issue 49](https://github.com/molpopgen/fwdpp/issues/49)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;* The namespace has been changed from KTfwd to fwdpp. [PR88](https://github.com/molpopgen/fwdpp/pull/88)</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;* Serialization code has been generalized to depend on template specializations. [PR90](https://github.com/molpopgen/fwdpp/pull/90) and [PR108](https://github.com/molpopgen/fwdpp/pull/108)</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;* The struct KTfwd::infsites was removed.  For the mutation type fwdpp::popgenmut, fwdpp::infsites_popgenmut was added</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  as a mutation function.  [PR120](https://github.com/molpopgen/fwdpp/pull/120)</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;* The storage of a gsl_rng pointer in fwdpp::poisson_xover and fwdpp::general_rec_variation was refactored out. [PR118](https://github.com/molpopgen/fwdpp/pull/118)</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;* The types fwdpp::extensions::discrete_rec_model and fwdpp::extensions::discrete_mut_model were refactored to be much</div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  more general, and independent of a particular mutation type. [PR116](https://github.com/molpopgen/fwdpp/pull/116) and [PR113](https://github.com/molpopgen/fwdpp/pull/113)</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;* Metapopulation objects were removed, and single-/multi- locus population types are renamed fwdpp::slocuspop and  fwdpp::mlocuspop, respectively.  Code for demographic operations was also removed, as it is not needed. </div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  [PR110](https://github.com/molpopgen/fwdpp/pull/110)</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;* The class fwdpp::popbase is no longer dependent on a particular ploidy. The diploid-ness was pushed into fwdpp::slocuspop and fwdpp::mlocuspop (as well as the more complex template classes fwdpp::sugar::slocuspop and fwdpp::sugar::mlocuspop). [PR114](https://github.com/molpopgen/fwdpp/pull/114)</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;* Namespace KTfwd::experimental was removed.  [PR86](https://github.com/molpopgen/fwdpp/pull/86)</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;* Diploid-dependent mutation models are now supported. [PR84](https://github.com/molpopgen/fwdpp/pull/84)</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;* Removed API features deprecated in 0.5.7.  [PR83](https://github.com/molpopgen/fwdpp/pull/83)</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;* Several parts of namespace fwdpp::traits were streamlined. [PR82](https://github.com/molpopgen/fwdpp/pull/82)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;* The &quot;scaling&quot; parameter of fwdpp::additive_diploid and fwdpp::multiplicative_diploid are now class data instead of</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  bound parameters.  [PR79](https://github.com/molpopgen/fwdpp/pull/79)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;* fwdpp::general_rec_variation added. [PR77](https://github.com/molpopgen/fwdpp/pull/77)</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;* Recombination callbacks taking no arguments are supported. [PR75](https://github.com/molpopgen/fwdpp/pull/75)</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;* fwdpp::mlocuspop::locus_boundaries is no longer populated with default values, which was dangerous!! </div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;  [PR69](https://github.com/molpopgen/fwdpp/pull/69)</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;* fwdpp::generalmut and fwdpp::generalmut_vec now take less memory.</div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;  [PR67](https://github.com/molpopgen/fwdpp/pull/67)</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;* Sampling routines in fwdpp/sugar/sampling.hpp now guard against the possibility of having fixations repeated in</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  samples. For example, this change will affect simulations where selected fixations are retained because they affect trait values. [PR71](https://github.com/molpopgen/fwdpp/pull/71) </div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;* Issue [PR69](https://github.com/molpopgen/fwdpp/issues/69) [PR70](https://github.com/molpopgen/fwdpp/pull/70) </div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;* Fixed template errors when sampling from multilocus populations using functions in fwdpp/sugar/sampling.hpp.  These</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  errors resulted in failure to compile and thus did not affect anyone&#39;s results.  [PR70](https://github.com/molpopgen/fwdpp/pull/70) </div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;## 0.5.7</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;* License change from GPL2 to GPL3</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;* The unit test suite is now compiled with warnings enabled.  As a result, several warnings were silenced, including one</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  introduced in [PR55](https://github.com/molpopgen/fwdpp/pull/56) that would have mattered!.  [PR63](https://github.com/molpopgen/fwdpp/pull/63)</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;* API to KTfwd::sample_diploid was updated to removed an unused type as a result of [PR54](https://github.com/molpopgen/fwdpp/pull/54). [PR63](https://github.com/molpopgen/fwdpp/pull/63)</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;* Gametes can now be constructed from tuples. [PR62](https://github.com/molpopgen/fwdpp/pull/62)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;* KTfwd::popgenmut, KTfwd::generalmut, and KTfwd::generalmut_vec may now be constructed from tuples. [PR59](https://github.com/molpopgen/fwdpp/pull/59)</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;* Travis build system now skips OS X builds, tries more GCC versions as well as C++11 and C++14.</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  [PR60](https://github.com/molpopgen/fwdpp/pull/60) and [PR61](https://github.com/molpopgen/fwdpp/pull/61).</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  We are skipping OS X because there have been stability problems with the Travis CI infrastructure for that platform.</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  We would liked to have included Linux/clang tests for this release, but hit road blocks that we cannot reproduce on our</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  local machines.</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;* Population objects from sugar layer can now be constructed with pre-calculated diploids, gametes, and mutations.</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  [PR56](https://github.com/molpopgen/fwdpp/pull/56).</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;* Mutation and recombination are now merged into one path.  See fwdpp/mutate_recombine.hpp.  The entry points into the</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;  old API are marked deprecated.  This addresses issue [Issue 54](https://github.com/molpopgen/fwdpp/issues/54) via pull request [PR55](https://github.com/molpopgen/fwdpp/pull/55).</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;* Travis builds using miniconda now use -Wl,-rpath when linking to dependencies, solving run-time link errors during &quot;make check&quot; on OS X.</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;## 0.5.6</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;This release breaks API compatibility.</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;* Issue #51 resolved.</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;* API issue #50 resolved.  The KTfwd::GSLrng_t is no longer copy-constructible.</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;* API issue #48 is addressed.  This is an API change breaking backwards compatilibity for multi-locus/region simulations. The new API allows more flexibility in modeling interlocus/region crossovers.  The API for KTfwd::sample_diploid is changed for multi-locus/region sims.  Two functions, KTfwd::make_poisson_interlocus_rec and KTfwd::make_binomial_interlocus_rec, return vectors of callbacks bound to the two new structs. [commit](https://github.com/molpopgen/fwdpp/commit/8ee950e7f315434284164e50c0f09b1e52a4c40c)</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;* API issue #49 is addressed.  The changes maintain compile-time API compatibility with previous library versions.</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;* Refactored KTfwd::extensions::discrete_rec_model and KTfwd::extensions::discrete_mut_model to use PIMPL idiom and be</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;  default-constructible. [commit](https://github.com/molpopgen/fwdpp/commit/9edcb8ca0da2dac5d04f066fbc0f26e3b7776c16)</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;* Extend concept of regions to multi-locus sims via extensions::bind_vec__drm and extensions::bind_vec::dmm. [commit](https://github.com/molpopgen/fwdpp/commit/da1b47b661679c80530b3ed477107f9fadf33e25)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;* extensions::discrete_mut_model::make_mut now takes a pointer to the generation, allowing a single point of binding rather than binding each generation. [commit](https://github.com/molpopgen/fwdpp/commit/da1b47b661679c80530b3ed477107f9fadf33e25)</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;* Exceptions in namespace KTfwd::extensions changed from std::runtime_error to std::invalid_argument where appropriate.</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;* Fix bug in examples/HOC_ind.cc affecting (improper) recycling of fixations during the simulation. [commit](https://github.com/molpopgen/fwdpp/commit/559e7db4cefe6c444584c4a51587bd315e35cbb9)</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;* KTfwd::data_matrix is now based on std:int8_t instead of char.</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;## 0.5.5</div><div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div><div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;* Added KTfwd::sugar::multiloc::locus_boundaries and simplified API in fwdpp/sugar/sampling.hpp, resolving #47.</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;* Refactor namespace KTfwd::traits, resolving #46.</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;* Streamline API for fitness functions, resolving #45.</div><div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;* Resolving #45 allows us to simplify how custom diploid types are defined.  See @ref md_md_customdip</div><div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;* Test suite fixtures improved</div><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;* All source files reformatted using clang-format</div><div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;* Build system generation of package version numbers improved</div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;* fwdpp/version.hpp added and is auto-generated by build system</div><div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;* fwdpp/sugar/matrix.hpp now included by fwdpp/sugar/sugar.hpp</div><div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;* Fix forwarding of constructor arguments during mutation recycling.</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;* python_examples/fwdpp_pybind11.cc was updated to account for population type class hierarchy added in 0.5.3.</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;## 0.5.4</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;* fwdpp/sugar/matrix.hpp was added, providing functions for returning diploid haplotype/genotype data as a 1-d array.</div><div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;* Functions in fwdpy/sugar/sampling.hpp are now more flexible with the integral types used to specify specific sets of diploids.</div><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;* Fixed API bugs in KTfwd::sample_separate for the case of multi-locus/region simulations.  These errors resulted in compilation failure, and therefore it was impossible for results to have been affected.</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;## 0.5.3 </div><div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div><div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;* Streamline internal details of crossing over</div><div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;* Fix issue #43</div><div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;* KTfwd::change_neutral no longer tries to update extinct gametes.</div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;* Single-argument constructors marked explicit for types inheriting from KTfwd::popbase</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;* Added an additional overload of KTfwd::infsites::operator()</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;* The integer type stored by a gamete and used to index mutations was changed from std::size_t to std::uint32_t.  This change halves RAM use and has no other side-effects other than limiting the number of possible mutations in a simulation to 2^32, which is too many to store on a typical cluster node anyways.</div><div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div><div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;There are also several changes to the build setup and Travis CI:</div><div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div><div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;* Travis CI is now based on miniconda, taking advantage of bioconda/libsequence.</div><div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;* Travis CI now only tests GCC on OS X, as bioconda/libsequence is built with that compiler</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;* &quot;make&quot; now makes fwdppConfig, all examples, and all unit tests, provided that dependencies are present.  The examples and unit tests are not installed.</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;* &quot;make check&quot; now runs the unit tests</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;## 0.5.2</div><div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;</div><div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;* Documentation updates, finally!  The tutorials, etc., have been brought up to date.</div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;* Missing include of cassert added to fwdpp/internal/recycle.hpp</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;* Serialization code streamlined.  Lots of redundant code was removed.  The biggest changes are that std::runtime_error can be thrown from low-level functions.  Also, KTfwd::serialize can now work with any stream type whose public interface is compatible with std::istream, and KTfwd::gzserialize is simply a convenience wrapper (it still works via an in-memory serialization).</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;* Test suite refactored.  The code has moved from unit/ to testsuite/, and attempts to better separate unit tests from</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;  integration tests.  Further, fixtures are used to improve code reuse in testing.</div><div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;* operator== added to KTfwd::generalmut and KTfwd::generalmut_vec</div><div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div><div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;## 0.5.1</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;This is a small bigfix release.  There were performance improvements planned for this release,</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;but we will hold off in favor of getting this fix out.</div><div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;* Fix for #41 in v0.5.0 did not get applied to the experimental version of sample_diploid for multi-locus sims.  That has been fixed.</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;## 0.5.0</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;* Example file examples/K_linked_regions_multilocus.cc added</div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;* Streamlined KTfwd::fwdpp_internal::multilocus_rec_mut</div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;* The sugar types KTfwd::singlepop, KTfwd::metapop, and KTfwd::multiloc were refactored to inerit from KTfwd::sugar::popbase.</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;* Fixed error in KTfwd::multiloc where gametes were initialized with the incorrect count</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;* KTfwd::gamete_data_sane_multiloc was added to fwdpp/debug.hpp</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;* Issue #41 fixed. This issue affected simulations using the multi-locus API, and all simulations using that API need to be rerun. Sorry.</div><div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;* The experimental API to sample_diploid was made more flexible via a new header file, fwdpp/experimental/dispatch.hpp.  This addition allows better fine-tuning of &quot;rules&quot; classes</div><div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;* The experimental API now takes rvalue refrence (&amp;&amp;) instead of const reference (const &amp;) for rules classes.  This allows the rules to be written and be more idiomatic, avoiding use of mutable variables.</div><div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;* Add overload of KTfwd::haplotype_dependent_fitness::operator() for custom diploids</div><div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;## 0.4.9</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div><div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;* Doxygen file changed so that all library source is browsable.</div><div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;* Single-deme version of sample_diploid is commented in detail.</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;* Added KTfwd::add_mutation, KTfwd::add_mutations and unit test  unit/test_sugar_add_mutation.cc.  These new functions allow the addition of mutations to diploids in a non-random way, which also means you can fill in a population from external data (e.g., something in a file).  These features resolve Issue #28, albeit at a low level.</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;* Member KTfwd::mutation_base::xtra squeezed into unused space in this type.  No extra RAM used, and programs may assign values to that type to represent &quot;stuff&quot;, whatever that is.</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;* KTfwd::extensions::discrete_mut_model got a new constructor allowing KTfwd::extensions::discrete_mut_model::make_mut to assign values to KTfwd::mutation_base::xtra.</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;* Added KTfwd::change_neutral, which allows simulations to update the value of KTfwd::mutation_base::neutral and correctly update storage of the affected mutation in all gametes.</div><div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;* #39 fixed</div><div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;* #40 fixed</div><div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;## 0.4.8</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;* #38 fixed</div><div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;* Updates to unit tests</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;* Added and example of wrapping fwdpp using [pybind11](https://github.com/pybind/pybind11)</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;## 0.4.7</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;Thanks to Alexander Nater for pointing out issue #36, which lead to #37 being discovered, too.</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div><div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;* remove include&lt;iostream&gt; from fwdpp/internal/recombination_common.hpp</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;* Isssue #36 fixed</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;* Issue #37 fixed</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;* KTfwd::GSLrng_t has improved copy constructor and is now move-constructible.</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;* The library is now const-correct vis-a-vis gsl_rng *.  This is an API change.</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;* &quot;debug mode&quot; (compiling _without_ -DNDEBUG) makes more tests about samples from populations being sorted by position</div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;* More extensive checking done by functions in fwdpp/debug.hpp</div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;* Improvements (and bug fixes) to namespace KTfwd::traits.  Unit tests added for this namespace.</div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;* Fixed templates for serializing mutation type KTfwd::generalmut.  Attempting to compile using icc revealed the error.</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;* KTfwd::fwdpp_internal::gamete_cleaner has a new, and generally much faster, implementation.</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;## 0.4.6</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;* Issue #34 fixed</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;* Issue #35 fixed.  Thanks to Alexander Nater for catching this.</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;* KTfwd::extensions::discrete_rec_model no longer generates empty lookup tables when there are no regions</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;* KTfwd::extensions::discrete_rec_model and KTfwd::discrete_mut_model may now throw exceptions from their constructors if input data are incorrect</div><div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;## 0.4.5</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;* Issues #31 and #32 fixed</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;The file fwdpp/internal/gamete_lookup_table.hpp was removed and the library updated to stop using this method to check for gamete uniqueness.  The result is a 20% reduction in run times and a slight reduction in peak memory use.  This change was enabled by the changes introduced in 0.4.4, and comes with no change in output.</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;* Partial loop unrolling and branch removal from KTfwd::fwdpp_internal::recombine_gametes</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;* Faster fitness calculations via the removal of if statements from a for loop in KTfwd::site_dependent_fitness</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;* KTfwd::fwdpp_internal::add_new_mutation was shortened for clarity</div><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;* KTfwd::metapop objects now copy- and move- constructible from KTfwd::singlepop objects</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;* Support for demographic events via the low-level functions KTfwd::copy_deme, KTfwd::merge_demes, KTfwd::remove_deme, KTfwd::swap_demes, KTfwd::split_deme, and KTfwd::admix_demes.</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;* Higher-level support for demographic models via the sugar-layer functions KTfwd::copy_pop, KTfwd::merge_pop, KTfwd::remove_pop, KTfwd::swap_pops, KTfwd::split_pop, and KTfwd::admix_pops.</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;* New unit tests added and old ones refined</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;## 0.4.4</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;TL;DR Big performance improvements due to better handling of objects in memory. Yay!  API changes. Boo!</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;__The library documentation is likely to be out of date until a future release__</div><div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;* Vastly improved management of object lifetimes:</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;  * Extinct mutations/gametes are no longer removed each generation.</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  * FIFO queues are constructed each generation in order to &quot;recycle&quot; those objects as new mutations/gametes.</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    * The queue is implemented as std::queue&lt;mlist::iterator&gt; or std::queue&lt;glist::iterator&gt; for mutations and gametes, respectively.</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    * These queues result in big performance improvements for &quot;big&quot; simulations, at the cost of breaking API compatibility.  The performance improvement is both reduced run time and reduced memory usage.</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    * In order to accomodate the &quot;recycling&quot;, mutation models must now return iterators derived from the mutation list, rather than mutation types themselves.</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    * Additionally, the internal mutation/recombination functions must take non-const references to &quot;recycling bins&quot;, which are the FIFO queues.</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  * Mutation type data members (objects inheriting from KTfwd::mutation_base) are no longer const.  This is required in order to enable the &quot;recycling&quot;.</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  * In order to take advantage of this feature, extinct mutations must not be removed each generation.  The function KTfwd::update_mutations should be removed instead of KTfwd::remove_lost, KTfwd::remove_fixed_lost, etc.  The latter functions are marked as deprecated.</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;  * The details of recycling are handled by KTfwd::fwdpp_internal::make_mut_queue, KTfwd::fwdpp_internal::make_gamete_queue, KTfwd::fwdpp_internal::recycle_gamete, and the very cool variadic template function KTfwd::fwdpp_internal::recycle_mutation_helper.  These types/functions are found in fwdpp/internal/recycling.hpp.</div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;* Improved memory managament:</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  * &quot;Recycling&quot; means that the linked lists used are much more constant in memory with respect to allocations.  Thus, it makes sense to allocate objects prior to simulation.</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  * The functions KTfwd::add_elements in the main library and KTfwd::add_recyclable in the sugar sub-library allow the addition of recylable objects.  See example programs for how to use these functions.</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;* Other API changes:</div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;  * As a result of the changes described above, the data structures of the library were changed from linked lists of iterators to vectors of std::size_t.  This is a radical change to the data layout, and results in further speedups.</div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  * KTfwd::sample_diploid has been streamlined in light of common defaults</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  * Recombination policies have been simplified.  See KTfwd::poisson_xover for an example.</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;* Behavior changes:</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;  * As a result of object recycling, data structures (mutation and gamete lists, specifically) at the end of a simulation contain both extant and extinct objects.</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;* Implementation changes:</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  * Serialized populations may contain extinct mutations and gametes.</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  * A lot of redundant code has been replaced with function calls. This should help prevent bugs like Issue #27, which was due to a botched copy-paste, which happens when code is written in a hurry...</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;  * Simpler dispatch method for mutation models (KTfwd::fwdpp_internal::mutation_model_dispatcher)</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;* Improved &quot;type traits&quot; sub-library (namespace KTfwd::traits)</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;* Deprecated functions/objects removed from library</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;* Bug fixes:</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;  * Issue #30 fixed regarding serialization of KTfwd::generalmut and KTfwd::generalmut_vec</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;  * A bug in KTfwd::ms_sample and KTfwd::ms_sample separate was identified and fixed.  The bug only applied to multilocus simulations.  The bug was that the first &#39;n&#39; chromosomes were sampled, rather than &#39;n&#39; randomly-chosen chromosomes.  The effect of the bug is that the first sample is truly random (as chromosomes are not sorted in any meaningful way), but a second sample would overlap with the first, etc.</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;## 0.4.3</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;* Fix for issue #29</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;* Keyword &#39;mutable&#39; replaced with &#39;const&#39; throughout library</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;* KTfwd::extensions::gaussian now uses ziggurat method</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;* Types declared in fwdpp/extensions/callbacks.hpp now have const member data.  A unit test was added as a check on the API of this file.</div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;* New mutation types added: KTfwd::generalmut and KTfwd::generalmut_vec, in fwdpp/sugar/generalmut.hpp.  A new unit test file goes along with it.</div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;## 0.4.2</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;* Fixed error in definition of KTfwd::metapop_serialized and KTfwd::multiloc_serialized.</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;## 0.4.1</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;* fwdppConfig no longer attempts linkage to dependent libraries</div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;* fixed errors in fwdpp/initms.hpp caught by clang++</div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;## 0.4.0</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;* fwdpp/sugar/sampling.hpp added.  This streamlines taking samples from populations</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;* Unit test unit/sugar_sampling.cc added</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;* New test added to unit/crossoverTest.cc</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;* libsequence is no longer an installation dependency</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;## 0.3.9</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;This release fixes a minor bug for very high mutation rates.  Upgrading to this version is recommended!</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;* Fixed issues 26 and 27.</div><div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;* New unit tests added to check sampling from populations</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;## 0.3.8</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;* Added some include directives whose omission resulted in failure to compile on clang.</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;* Doxygen input file now generated by ./configure.  No more need to manually update the version.</div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;</div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;## 0.3.7</div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;* An declaration of KTfwd::recombine_gametes was fixed to match the implementation</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;* Minor re-organization of recombination code</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;* The details of KTfwd::ms_sample_separate were moved into KTfwd::internal.  This move allows access to functions that sample a specific set of diploids, which is handy in a lot of cases.</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;## 0.3.6</div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;* The internal lookup table has been further refined, resulting in much faster simulations with selection.</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;* KTfwd::additive_diploid and KTfwd::multiplicative_diploid now have checks to prevent returning fitnesses &lt; 0.</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;## 0.3.5</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;* Faster simulations with selection due to new data structure.  The gamete lookup tables introduced in 0.3.3 have been reworked.  This is not an API change, but rather an internal change that will be transparent to programmers using the library.</div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;* &quot;make check&quot; now executes all unit tests, if and only if the boost unit testing library is present.</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;* Source code reorganization -- Issue #21</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;* Sugar code can now be included all at once.  This resolves Issue #23.  The convenience header is:</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;~~~{cpp}</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;#include &lt;fwdpp/sugar.hpp&gt;</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;~~~</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;* configure script now allows linking to the jemalloc library.  Preliminary benchmarks suggest that linking to tcmalloc gives better performance, but users may test for themselves:</div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;~~~~{sh}</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;./configure --enable-jemalloc=yes</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;~~~~</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;</div><div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;* Travis-CI integration was added for the Git repo.</div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;* Getting the Travis-CI integration to work resulted in changes to the unit tests and the experimental examples to improve their handling of boost-related things.</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;* unit/policyTests.cc was modified.  Previously, it was failing on GCC for the &quot;wrong&quot; reason.  The moves were actually happening, but the return value was being set at the wrong time.</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;* Various code cleanup</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;## 0.3.4</div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;* LICENSE/COPYING files updated</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;* Tutorial improved for multi-locus simulations</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;* Issue #20 addressed throughout the library + examples + unit tests</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;##0.3.3</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;This release of __fwdpp__ includes major performance improvements.  The short version of the story is:</div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;* Linked lists are traversed less often each generation compared to previous versions.</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;* An (extremely) expensive linear-time search of a linked list that previously occurred after _every_ recombination event has been eliminated, and replaced with a very fast log-time search of a lookup table.</div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;* The containers required for storing the intermediate steps of recombination are now allocated at most once per replicate, and their capacity is adjusted as needed during the simulation.  Previously, these containers were allocated for every crossover event.</div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;* The way that mutations are copied during recombination has been changed from a call to std::copy to the vector&#39;s insert member function, resulting in fewer reallocations during copying.</div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;The result is much better scaling with large population size and recombination rates.</div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;Major changes:</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;* Crossing over has been streamlined.  Unfortunately, this changes the library API.  However, run times improve substantially.</div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;* The library internals now use different insertion methods during recombination.  We swtiched from copy(beg,end,back_inserter(x)) to x.insert(x.end(),beg,end), which results in less memory usage, and some run-time improvement for large simulations.</div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;* API change: the simplification of metapopulation containers in 0.3.2 means that we can make the recombination policies required for such simulations the same as for single-deme simulations.</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;* The build system has been streamlined, with fewer dependencies and a greater emphasis on standard containers + Google&#39;s perftools.</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;* The various read/write functions for serializations have been renamed--I simply couldn&#39;t get the template declarations to auto-deduce the types.  I gave up on this one, and so there&#39;s an API change.  On the plus side, IO.hpp/IO.tcc are more readable now.</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;Minor changes:</div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;* KTfwd::serialize now has a default constructor and a move constructor defined, allowing it to be a member of another class, which helps things in [foRward](http://github.com/molpopgen/foRward).</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;* KTfwd::serialize can now be used to serialize multiple records into a single buffer.</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;* A &quot;validation suite&quot; has been added.  This is mostly for the developer to have an automatic way to check for problems.</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;* The package now installs a single binary called fwdppConfig.  This program is intended to be used in configure scripts to make checking for fwdpp&#39;s existence and/or version easier.  It takes a single option:</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;~~~{sh}</div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;#Get the version of fwdpp installed on your system (or at least the one most readily visible in your user&#39;s environment).</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;fwdppConfig --version</div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;~~~</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;## 0.3.2</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;</div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;This release make some tweaks that improve performance:</div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;</div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;* All occurrences of boost::pool_allocator have been replaced by boost::fast_pool_allocator in the declarations of population types in the sugar layer (see @ref md_md_sugar).  This can result in &gt;= 10% reductions in run times are recombination rates increase.</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;* The mechanics of adding mutations and recombining gametes have been streamlined slightly.</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;* A handful of cases where objects were copied instead of passed-by-reference were fixed.</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;* Issue #17 fixed</div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;* Issue #14 fixed</div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;* Issue #16 fixed</div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;## 0.3.1</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;This release has many significant changes.  With the exception of the removal of KTfwd::tags::gamete_dependent, which was released in 0.3.0, and the change in the implementation of KTfwd::infsites::operator(), the library remains source-compatible with existing simulations.</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;* Multilocus, single-population version of KTfwd::sample_diploid now allows for inbreeding coefficient of 0 by default.</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;* Warnings from KTfwd::infsites suppressed w/compiler trick</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;* Extraneous gsl_rng free removed from diploid_ind.cc</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;* Issue #12 in examples/common_ind.hpp fixed</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;* Issue #13 appears to be fixed, too.  This was tricky, as it was not reproducible on my systems, but is now fixed on the system of the person who reported it.</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;* The library no longer requires that std::pair&lt; T,T &gt; are the types used for a diploid genotype (where the &quot;T&quot; are iterator types derived from gametes lists).  Now, custom diploid genotypes may be used, as long as the follow certain constraints (see @ref md_md_customdip for documentation).  Thanks to Jeremy Van Cleve for motivating this change, which should allow models involving space and social interactions, once some experimental features are worked out and become part of the main library (see below).</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;* extensions/ directory renamed python_examples</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;* Makefiles added for the boost.python examples.  These are not generated by ./configure, as compiling these is simply different from compiling the examples/unit tests</div><div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;* Fitness policies for multilocus simulations now take iterators pointing to multilocus genotypes, in lieu of const-references to those genotypes.  This is done for the sake of API consistency across the library, but it does break source-level compatibility with existing simulations (although fixes will be easy).  Examples, unit tests, tutorials, etc., have been updated to account for this change.</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;* Mutation distpach methods implemented in 0.3.0 via KTfwd::tags::gamete_dependent are now dispatched using std::true_type and std::false_type</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;* Namespace KTfwd::experimental has been added as a safe place for experimenting with future library features.  The source files are in fwdpp/experimental. These headers do get installed with the library, but documentation will be minimal.</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;* Example programs based on experimental features are in experimental_examples.  These examples are &quot;bleeding edge&quot;, and are not guaranteed to compile on all systems, especially those without complete working boost installations (including the compiled run-time libraries).</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;* experimental_examples/sex_limited_ind.cc is an example of using experimental library features to simulate separate sexes, sex-specific fitness effects, etc.</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;* Sugar typedefs in fwdpp/sugar/singlepop.hpp, fwdpp/sugar/metapop.hpp, and in fwdpp/sugar/multiloc.hpp are now compatible with custom diploid types.  The template alias now defaults to a pair of iterators pointing to gametes, which you may over-ride with your own type.</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;* The devtools setup script had some bugs fixed. (@ref md_md_devtools)</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;* KTfwd::sample_diploid has been modified to make fewer calls to random number generators for the common use case of no selfing.  This change results in N*generations fewer RNG calls, and can speed simulations by as much as ten percent. A side-effect is that results will differ from simulations compiled against earlier versions of the library.  A preprocessor macro/symbol (FWDPP_COMPAT_0_3_0) has been introduced.  Compilling programs with -DFWDPP_COMPAT_0_3_0 will result in the older/slower algorithm being used.</div><div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;* A new document describing preprocessor symbols and their effect on fwdpp has been added (@ref md_md_preproc)</div><div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;* All occurrences of NULL in the library have been replaced with the C++11 [nullptr](http://www.cplusplus.com/reference/cstddef/nullptr_t/).  The latter is safer in templates because the former can evaluate to 0 in some cases.</div><div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;* All gamete-based code has been removed from the library.  If you need it for any reason, you&#39;re stuck with with 0.3.0 and earlier.</div><div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;* Mutation models may now have various function signatures.  See @ref md_md_policies and the example programs for details.  The file fwdpp/tags/mutation_tags.hpp has been removed.  This was introduced in 0.3.0, and defined KTfwd::tags::gamete_dependent, which has been replaced with a newer, much more flexible method of policy dispatching.  See fwdpp/internal/mutation_internal.hpp for the details of how this was done.</div><div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;* fwdpp/type_traits.hpp was added to the library, proving namespace KTfwd::traits.</div><div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;* KTfwd::infsites no longer requires that a pointer to a mutation list be passed to the call operator</div><div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;* KTfwd::mutation_writer and KTfwd::mutation_reader now support gzFiles.</div><div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;* KTfwd::gzserialize and KTfwd::deserialize have been added to fwdpp/sugar/serialization.hpp</div><div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div><div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;## 0.3.0</div><div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;</div><div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;* Allow for mutation policies that depdend on the current state of a gamete via KTfwd::tags::gamete_dependent.  Example HOC_ind.cc illustrates its use.</div><div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;* Added dispatch tag to KTfwd::gamete_base, via KTfwd::tags::gamete_type_tag.  Currently, this feature is not used in the library.  Its addition affects nothing other than what happens during compilation, and it may be used in the future to add new features to the library, or it may be remvoed.</div><div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;* Namespace KTfwd::sugar and \ref sugar functions added.</div><div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;* All _individual-based_ examples have been rewritten using the sugar code</div><div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;* New tutorial added: \ref md_md_sugar</div><div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;* New tutorial added: \ref md_md_datatypes</div><div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;* The policies tutorial (\ref md_md_policies) has been rewritten</div><div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;* Unit tests for sugar layer added</div><div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;</div><div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;## 0.2.9</div><div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;</div><div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;* Added new unit test (siteDepFitness) to check for the effect of issue #8.  Fortunately, fitness calculations were correct even with the bug, as the rest of the function did the right thing.</div><div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;* Fixed issue #8, so that the code block in question will actually do what is intended.</div><div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;</div><div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;## 0.2.8</div><div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div><div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;* Fixed issue #5, which was a bug in migrating gametes in multi-population, individual-based simulations.</div><div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;* Fixed issue #6, which was a bug in how parents were copied in multi-population, individual-based simulations.</div><div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;* Fixed issue #7, which was a bug in when gametes were updated post-sampling in multi-population, individual-based simulations.</div><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;* Two new example programs added: migsel_split_ind and migsel_split_ind_list</div><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;* fwdpp/IO.tcc streamlined using C++11 &quot;auto&quot; instead of nasty typedefs</div><div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div><div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;## 0.2.7</div><div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;</div><div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;* Versions ms_sample and ms_sample_separate that took containers of gametes as arguments are now compatible with individual-based simulations.</div><div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;* The &quot;devtools&quot; stuff is greatly improved, and a new tutorial added on how to use it: @ref md_md_devtools</div><div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;</div><div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;## 0.2.6</div><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;</div><div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;* const mutation lists now passed to binary output routines</div><div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;* The library internals now fully support C++11 move semantics</div><div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;* Default policies now support C++11 &quot;perfect forwarding&quot;</div><div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;* The function KTfwd::recombine_gametes, which is provided for recombination in individual-based simulations, has an overloaded version.  This new version takes a fixed set of positions representing recombination breakpoints, allowing more modeling flexibility and making unit testing easier.</div><div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;* The mechanics of recombination in multilocus simulations moved to function multilocus_rec in namesapce KTfwd::fwdpp_internal.</div><div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;* A unit test for the function KTfwd::fwdpp_internal::multilocus_rec was added.</div><div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;* Added tutorial for multilocus simulation implmentation</div><div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;* Minor cleanups to the build system</div><div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;* Reorganization of fwdpp/IO.hpp and fwdpp/IO.tcc to reduce code duplication and provide output routines for multilocus simulations.  There are no longer separate read functions for gzFiles.  The necessary operations are handled automatically by overloads of template functions in namespace KTfwd::fwdpp_internal.</div><div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;* Reorganization of fwdpp/sampling_functions.tcc: overloads of ms_sample are now implemented via calls to ms_sample_separate.  The results from the latter function are then merged using C++11 move semantics.  This reduces code redundancy, reduces the possible locations of bugs, and should keep efficiency about the same.</div><div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div><div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;## 0.2.5</div><div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;</div><div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;The following changes:</div><div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div><div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;1. fwdpp/diploid_functions_ind_multilocus.tcc was added.  This contains a more natural method of simulating mutiple partially-linked regions.  The header fwdpp/diploid_functions.hpp contains the relevant prototypes.  These routines are still in &quot;beta&quot; stage, and full support for simulations of partially-linked regions will be put off until a future version, likely 0.2.6 or later.</div><div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;2. Header files have been reorganized.  fwdpp/diploid.hh is still the header to use.  The reorg has been for the developer&#39;s sanity.</div><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;3. C++11 support is now required.  A side-effect is that users may use what is currently the dev branch of libsequence, which requires c++11 and no longer requires boost.  However, simulations using fwdpp will still be a _lot_ faster with boost installed!</div><div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;4. Internally, functions from namespace boost have been replaced with the namespace std equivalents provided by the C++11 standard.</div><div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;5. The internal library functions have been audited for performance.  This audit resulted in changing where some book-keeping functions were called, replacing linear-time search algorithms with logarithmic-time searches, and removing an unnecessary call to std::sort following crossover events.  The result of this audit was a big speedup of simulation run-times, but no change in simulation output (in other words, the same random number seed gives the same result for the same parameters for the same program in 0.2.4 and 0.2.5).</div><div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;6.  autoconf stuff rewritten (configure.ac, Makefile.am, etc.)</div><div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;7. Internally, the library has moved to a more &quot;functional programming&quot; style, emphasizing lambda expressions over function objects.  This change means that the library no longer needs to define function objects that are only used by the library &quot;internals&quot;.  Such function objects have been removed, replaced with lambda expressions, and will no longer clutter the library documentation.</div><div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;8. The code for recombination has been streamlined quite a bit.  Same algorithm (although noting the changes in point 5 above), but way fewer lines of code.</div><div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;9. The devtools directory has been added.  It contains a script to setup packages using fwdpp.</div><div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;10. Examples are now built via &quot;make check&quot; and not by default</div><div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;11. Refactoring so that gamete- and individual- based methods share common code.</div><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;12. A new namespace (KTfwd::fwdpp_internal) now resides in fwdpp/internal.  This sub-namespace contains some of the more important inner-workings of the library that are used in several places.  Part of the goal of this sub-namespace is to separate the deterministic stuff from the stochastic stuff, in order for the latter to be unit-testable.</div><div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;13. Boost&#39;s unit testing library is now used for unit testing.  To goal is to make sure that the stuff in fwdpp/internal all works.  The tests are compiled via &quot;make check&quot;.</div><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;14. Use config.h to manage preprocessor stuff</div><div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;</div><div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;## 0.2.4</div><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div><div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;The following changes:</div><div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;</div><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;1. fwdpp/IO.hpp and fwdpp/IO.tcc were updated to include the ability to read/write binary-format data to/from gzip files.  The gzip compression uses [zlib](http://zlib.net).  Note that the combination of POSIX file locking + gzip output requires more work than &quot;plain&quot; binary output + file locking.  Please see the new examples.  Differences in how gztell vs. ftell mean that the index files generated are different.  See my [tutorial](https://github.com/molpopgen/BigDataFormats) on on &quot;big data&quot; file formats for more detail.</div><div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;2.  examples/pfix.cc was added.  This estimates the fixation probability of a mutation subject to genic selection in a constant-sized population of N diploids.</div><div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;3.  examples/diploid_gzbinaryIO.cc and examples/diploid_gzbinaryIO_ind.cc were added.  They illustrate the new functions mentioned in point 1.</div><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;4. The folder &quot;test&quot; was added.  This contains several Rmd ([R Markdown](http://rmarkdown.rstudio.com/)) documents that you can process either  in [R studio](http://www.rstudio.com/) or plain old [R](http://www.r-project.org).  In either case, you&#39;ll need [knitr](http://cran.r-project.org/web/packages/knitr/index.html) installed.</div></div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="../../doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
